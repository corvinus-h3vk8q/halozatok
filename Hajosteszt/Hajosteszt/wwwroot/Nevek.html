<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Nevek</title>
    <link rel="stylesheet" href="Nevek.css" />
</head>
<body>
    <form>
        <div id="nevekList">   </div>
        <div>
            <input id="Column1" type="text" placeholder="Hozzáadandó név" />
        </div>

        <button id="addButton"> Új név felvétele</button>
        <div id="nevek"></div>

    </form>
    <script>
        document.addEventListener("DOMContentLoaded", x => {
            fetch("api/Nevek").then(x => x.json()).then(x => {showNevek(x)})
        })







        document.getElementById("addButton").addEventListener("click", () => {

            let data = {
                column1: document.getElementById("Column1").value
            }

            fetch("api/Nevek",
                {
                    method: 'POST',
                    headers: { 'Content-type': 'application/json' },



                    body: JSON.stringify(data)

                }).then(x => {
                    if (x.ok) {
                        alert("Siker");
                    }
                    else {
                        alert("Sikertelen");
                    }
                }




                );








        });

        function showNevek(j) {
            console.log(j)
            for (var i = 0; i < j.length; i++) {
                console.log(j[i].column1)
                let nev = document.createElement("div");
                nev.innerHTML = j[i].column1;
                document.getElementById("nevek").appendChild(nev);
            }


        }
    </script>

</body>
</html>